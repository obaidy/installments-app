(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{894:function(e,t,n){Promise.resolve().then(n.bind(n,384))},384:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(7437),c=n(2265),r=n(6463),s=n(8935);function a(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),n=t.get("access_token"),a=t.get("refresh_token"),o=t.get("redirect")||"/";return(0,c.useEffect)(()=>{(async()=>{if(!n||!a){e.replace("/");return}try{var t;await s.O.auth.setSession({access_token:n,refresh_token:a});try{document.cookie="sb-access-token=".concat(n,"; Max-Age=").concat(604800,"; Path=/; SameSite=Lax"),document.cookie="sb-refresh-token=".concat(a,"; Max-Age=").concat(604800,"; Path=/; SameSite=Lax")}catch(e){}let{data:i}=await s.O.auth.getUser(),c=null===(t=i.user)||void 0===t?void 0:t.id;if(c){let{data:t}=await s.O.from("user_roles").select("role").eq("user_id",c).single(),n=null==t?void 0:t.role;if("admin"===n){e.replace("/");return}}}catch(e){}e.replace("/not-authorized")})()},[n,a,o,e]),(0,i.jsx)("p",{style:{padding:16},children:"Signing you inâ€¦"})}},8935:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var i=n(9317);let{url:c,anonKey:r}=function(){let e="https://ulfucdrhbmmfqgqpcgsf.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsZnVjZHJoYm1tZnFncXBjZ3NmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMzA1NjAsImV4cCI6MjA2NDkwNjU2MH0.Q8i0BiqN_D0IFOBIzF5MLvd564ZO9xeAJokuAWq_lmQ";if(!e||!t)throw Error("Supabase URL/Anon key missing in env");return{url:e,anonKey:t}}(),s=(0,i.eI)(c,r)}},function(e){e.O(0,[598,971,23,744],function(){return e(e.s=894)}),_N_E=e.O()}]);
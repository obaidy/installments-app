(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4949:function(e,t,n){Promise.resolve().then(n.t.bind(n,8877,23)),Promise.resolve().then(n.bind(n,4003)),Promise.resolve().then(n.bind(n,9983)),Promise.resolve().then(n.t.bind(n,5,23))},4003:function(e,t,n){"use strict";n.d(t,{RequireRole:function(){return o}});var r=n(7437),i=n(2265),c=n(6463),l=n(8935);function o(e){let{allowed:t,children:n}=e,o=(0,c.useRouter)(),u=(0,c.usePathname)(),[a,s]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{if(null==u?void 0:u.startsWith("/auth")){s(!1);return}let{data:e}=await l.O.auth.getUser(),n=e.user;if(!n){let e=u&&"/auth/login"!==u?"?next=".concat(encodeURIComponent(u)):"";o.replace("/auth/login".concat(e));return}let{data:r}=await l.O.from("user_roles").select("role").eq("user_id",n.id).single(),i=null==r?void 0:r.role;if(!i||!t.includes(i)){o.replace("/not-authorized");return}s(!1)})()},[u,t,o]),a)?(0,r.jsx)("div",{style:{padding:16},children:"Loadingâ€¦"}):(0,r.jsx)(r.Fragment,{children:n})}},8935:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var r=n(9317);let{url:i,anonKey:c}=function(){let e="https://ulfucdrhbmmfqgqpcgsf.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsZnVjZHJoYm1tZnFncXBjZ3NmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMzA1NjAsImV4cCI6MjA2NDkwNjU2MH0.Q8i0BiqN_D0IFOBIzF5MLvd564ZO9xeAJokuAWq_lmQ";if(!e||!t)throw Error("Supabase URL/Anon key missing in env");return{url:e,anonKey:t}}(),l=(0,r.eI)(i,c)},9983:function(e,t,n){"use strict";n.d(t,{F:function(){return o},ThemeProvider:function(){return l}});var r=n(7437),i=n(2265);let c=(0,i.createContext)(null);function l(e){let{children:t}=e,[n,l]=(0,i.useState)(!1),[o,u]=(0,i.useState)(!0),[a,s]=(0,i.useState)("ar");return(0,i.useEffect)(()=>{try{let e=localStorage.getItem("app.locale"),t=localStorage.getItem("app.dark");e&&s(e),null!=t&&l("1"==t)}catch(e){}},[]),(0,i.useEffect)(()=>{let e=document.documentElement;e.classList.toggle("dark",n),e.setAttribute("dir",o?"rtl":"ltr");try{localStorage.setItem("app.dark",n?"1":"0")}catch(e){}},[n,o]),(0,i.useEffect)(()=>{u("en"!==a);try{localStorage.setItem("app.locale",a)}catch(e){}},[a]),(0,r.jsx)(c.Provider,{value:{dark:n,rtl:o,locale:a,toggleDark:()=>l(e=>!e),toggleRtl:()=>u(e=>!e),setLocale:s},children:t})}function o(){let e=(0,i.useContext)(c);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},8877:function(){},5:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}}},function(e){e.O(0,[864,598,971,23,744],function(){return e(e.s=4949)}),_N_E=e.O()}]);
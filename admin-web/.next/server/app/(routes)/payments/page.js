(()=>{var e={};e.id=280,e.ids=[280],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(8334),r(5866),r(5252);var s=r(3191),n=r(8716),a=r(7922),i=r.n(a),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["(routes)",{children:["payments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8334)),"C:\\Users\\pc\\Desktop\\installments-app\\admin-web\\app\\(routes)\\payments\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5252)),"C:\\Users\\pc\\Desktop\\installments-app\\admin-web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\pc\\Desktop\\installments-app\\admin-web\\app\\(routes)\\payments\\page.tsx"],u="/(routes)/payments/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(routes)/payments/page",pathname:"/payments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3630:(e,t,r)=>{Promise.resolve().then(r.bind(r,1831))},1831:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(326),n=r(7577),a=r(9748),i=r(3971),l=r(6855);r(3055);var o=r(8131),d=r(72);function c(){let[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)([]),[u,p]=(0,n.useState)("all"),[m,x]=(0,n.useState)(!0),[b,g]=(0,n.useState)(0),[y,h]=(0,n.useState)(!1),[j,f]=(0,n.useState)({}),k=(0,n.useMemo)(()=>{let t=e.toLowerCase().trim(),s=r;return"all"!==u&&(s=s.filter(e=>e.status===u)),t&&(s=s.filter(e=>e.unit.toLowerCase().includes(t))),s},[r,e,u]),S=(0,n.useMemo)(()=>k.filter(e=>j[String(e.id)]),[k,j]);return s.jsx(a.N,{children:(0,s.jsxs)("main",{className:"p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Payments"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border "+("all"===u?"bg-muted/30":""),onClick:()=>p("all"),children:"All"}),s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border "+("paid"===u?"bg-muted/30":""),onClick:()=>p("paid"),children:"Paid"}),s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border "+("pending"===u?"bg-muted/30":""),onClick:()=>p("pending"),children:"Pending"}),s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border "+("failed"===u?"bg-muted/30":""),onClick:()=>p("failed"),children:"Failed"}),s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border "+("cancelled"===u?"bg-muted/30":""),onClick:()=>p("cancelled"),children:"Cancelled"})]}),s.jsx(i.o,{query:e,setQuery:t,onSearch:()=>{},right:s.jsx(o.j,{filename:"payments.csv",columns:[{key:"unit",label:"Unit"},{key:"amount",label:"Amount"},{key:"status",label:"Status"},{key:"paidAt",label:"Paid At"}],rows:S.length?S:k})}),s.jsx(l.w,{columns:[{key:"unit",label:"Unit"},{key:"amount",label:"Amount",render:e=>(0,d.y)(e.amount,"en-IQ")},{key:"status",label:"Status",render:e=>s.jsx("span",{className:"px-2 py-0.5 rounded-full border text-xs "+("paid"===e.status?"bg-green-100 text-green-700 border-green-200":"pending"===e.status?"bg-yellow-100 text-yellow-800 border-yellow-200":"failed"===e.status?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"),children:e.status.toUpperCase()})},{key:"paidAt",label:"Paid At",render:e=>e.paidAt?(0,d.p)(e.paidAt,"en-IQ"):"-"}],rows:k,selectable:!0,selected:j,onToggleRow:e=>f(t=>({...t,[String(e.id)]:!t[String(e.id)]})),onToggleAll:e=>{let t={};e&&k.forEach(e=>t[String(e.id)]=!0),f(t)}}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 mt-3",children:[s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border disabled:opacity-50",disabled:0===b,onClick:()=>g(e=>Math.max(0,e-1)),children:"Prev"}),s.jsx("button",{className:"px-3 py-1.5 rounded-md border border-border disabled:opacity-50",disabled:!y,onClick:()=>g(e=>e+1),children:"Next"})]}),m?s.jsx("div",{className:"mt-2 text-sm opacity-70",children:"Loading…"}):null]})})}},6855:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var s=r(326),n=r(7577);function a({columns:e,rows:t,selectable:r,selected:a,onToggleRow:i,onToggleAll:l}){let[o,d]=(0,n.useState)(null),[c,u]=(0,n.useState)("asc"),p=(0,n.useMemo)(()=>{if(!o)return t;let e=[...t];return e.sort((e,t)=>{let r=e[o],s=t[o];return r<s?"asc"===c?-1:1:r>s?"asc"===c?1:-1:0}),e},[t,o,c]),m=({active:e})=>s.jsx("span",{className:"ml-1 text-xs opacity-70",children:e?"asc"===c?"↑":"↓":"↕"}),x=r&&a&&t.length>0&&t.every(e=>a[String(e.id)]);return r&&a&&t.some(e=>a[String(e.id)]),s.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-muted/40 sticky top-0 z-10 backdrop-blur",children:(0,s.jsxs)("tr",{children:[r?s.jsx("th",{className:"p-3 w-[42px]",children:s.jsx("input",{type:"checkbox","aria-label":"Select all rows",checked:!!x,onChange:e=>l?.(e.target.checked)})}):null,e.map(e=>(0,s.jsxs)("th",{className:"text-left p-3 cursor-pointer select-none",style:{width:e.width},onClick:()=>{var t;o===(t=e.key)?u(e=>"asc"===e?"desc":"asc"):(d(t),u("asc"))},children:[e.label,s.jsx(m,{active:o===e.key})]},String(e.key)))]})}),s.jsx("tbody",{className:"bg-card",children:p.map((t,n)=>(0,s.jsxs)("tr",{className:"border-t border-border transition-colors "+(n%2==1?"bg-muted/10 ":"")+(r&&a&&a[String(t.id)]?" bg-primary/5 ":"")+"hover:bg-muted/20",children:[r?s.jsx("td",{className:"p-3 w-[42px]",children:s.jsx("input",{type:"checkbox","aria-label":`Select row ${String(t.id)}`,checked:!!a?.[String(t.id)],onChange:()=>i?.(t)})}):null,e.map(e=>s.jsx("td",{className:"p-3",children:e.render?e.render(t):t[e.key]},String(e.key)))]},String(t.id)))})]})})}},8131:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var s=r(326);function n({filename:e,columns:t,rows:r}){return s.jsx("button",{className:"rounded-md border border-border px-3 py-2 text-sm",onClick:function(){let s=new Blob([t.map(e=>a(String(e.label))).join(",")+"\n"+r.map(e=>t.map(t=>{var r;return a(null==(r=e[t.key])?"":r instanceof Date?r.toISOString():String(r))}).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=e,i.click(),URL.revokeObjectURL(n)},title:"Export CSV",children:"Export CSV"})}function a(e){return e.includes(",")||e.includes('"')||e.includes("\n")?'"'+e.replace(/"/g,'""')+'"':e}r(7577)},3971:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var s=r(326);function n({query:e,setQuery:t,onSearch:r,right:n}){return(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("input",{className:"w-full md:w-auto flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Search…",value:e,onChange:e=>t(e.target.value)}),s.jsx("button",{className:"rounded-md bg-primary text-primaryForeground px-3 py-2 text-sm",onClick:r,children:"Search"}),n]})}r(7577)},72:(e,t,r)=>{"use strict";function s(e,t="en-IQ"){return new Intl.NumberFormat(t,{style:"currency",currency:"IQD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e,t="ar-IQ"){let r="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}).format(r)}r.d(t,{p:()=>n,y:()=>s})},8334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Users\pc\Desktop\installments-app\admin-web\app\(routes)\payments\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[148,434,399],()=>r(619));module.exports=s})();